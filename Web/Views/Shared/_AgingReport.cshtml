@model Core.Data.Dto.AgingSummaryReport

@{
    ViewData["Title"] = "A/R Aging Summary Report";
    Layout = null;
}

<div class="card">
    <div class="card-body">
        <h1 class="display-4 text-center">
            @Model.CompanyName
        </h1>
        <p class="lead text-center mb-1">A/R AGING SUMMARY</p>
        <p class="lead text-center">As of @Model.Date.ToString("MMMM dd, yyyy")</p>
        <hr />
        <div class="row mb-3">
            <div class="col">
                <h6>Customers</h6>
                <table class="table table-sm">
                    <tbody>
                        <tr>
                            <td scope="col">Total Customers</td>
                            <td>@Model.TotalCustomers</td>
                        </tr>
                        <tr>
                            <td scope="col">Balance</td>
                            <td>@Model.BalanceCustomers</td>
                        </tr>
                        <tr>
                            <td scope="col">No Balance</td>
                            <td>@(Model.TotalCustomers - Model.BalanceCustomers)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="col">
                <h6>Balance</h6>
                <table class="table table-sm">
                    <thead>
                        <tr>
                            <th>Aging Type</th>
                            <th>Count</th>
                            <th>Amount</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach(var column in Model.Columns) {
                            <tr>
                                <td scope="col">@column</td>
                                <td>
                                    <a href="">@Model.Balance[column].Count</a>
                                </td>
                                <td>@Model.Balance[column].Sum</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>

        <div class="table-responsive">
            <table class="table table-sm table-bordered">
                <caption>@DateTime.Now.ToString("MMM dd, yyyy - HH:mm")</caption>
                <thead>
                    <tr>
                        <th scope="col">Account Number</th>
                        <th scope="col">Business Name</th>
                        @foreach(var header in Model.Columns) {
                            <th scope="col">@header</th>
                        }
                    </tr>
                </thead>
                <tbody>
                    @foreach(var summary in Model.Data) {
                        <tr>
                            <td scope="row">@summary.AccountNumber</td>
                            <td scope="row">@summary.CustomerName</td>
                            @foreach(var column in Model.Columns) {
                                @if(summary.Data.ContainsKey(column)) {
                                    <td>@(summary.Data[column] == 0 ? "" : summary.Data[column].ToString())</td>
                                }
                            }
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>