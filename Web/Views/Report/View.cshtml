@model Dictionary<string, List<string>>

@{
    ViewData["Subtitle"] = "Use saved reports for faster access to the reports you use most often.";
}

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a asp-controller="Report" asp-action="Saved">Saved reports</a></li>
        <li class="breadcrumb-item active" aria-current="page">@ViewData["Title"]</li>
    </ol>
</nav>

<div class="card">
    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-bordered">
                @foreach(var row in Model.Keys) {
                    <tr>
                        @if(row == "Name") {
                            <th scope="col" width="160px">@row</th>
                            @foreach(var col in Model[row]) {
                                <th scope="col" width="160px">@col</th>
                            }

                        } else if(row == "Files") {
                            <th scope="row">@row</th>
                            @foreach(var col in Model[row]) {
                                <td>
                                    @foreach(var d in col.Split(";")) {
                                        <a asp-controller="SavedReport" asp-action="Download" asp-route-id="@d.Split("|")[0]">@d.Split("|")[1]</a><br />
                                    }
                                </td>
                            }
                        } else {
                            <th scope="row">@row</th>
                            @foreach(var col in Model[row]) {
                                <td>
                                    @if(col.Split("|").Length >= 2) {
                                        <span>@col.Split("|")[0] </span><br />
                                        <span>@col.Split("|")[1]</span>
                                    } else {
                                        <span>@col</span>
                                    }
                                </td>
                            }
                        }
                        <th></th>
                    </tr>
                }
            </table>
        </div>
    </div>
</div>