/*!
* v1.0.1
* https://github.com/anrmk
*
* Copyright 2020 Aziz Nurmukhamedov
*/
$.fn.getCompanySummaryRange=function(n){return $.ajax(`/api/company/${n}/summaryrange`)};$.fn.getBulkInvoices=function(n,t,i){return $.ajax({url:"/api/invoice/unpaid",data:{id:n,from:t,to:i}})};$.fn.uploadFile=function(n){var t=new FormData,i;$.each(this.prop("files"),function(n,i){t.append(n,i)});i={url:this.attr("action"),type:this.attr("method"),data:t,cache:!1,contentType:!1,processData:!1};$.ajax(i).done((t,i,r)=>{n(this,t,i,r)}).fail((t,i)=>{n(this,null,i,t)})};$.fn.ajaxSubmit=function(n,t){var i=this,u,r;i.valid()&&(u=i.serializeJSON(),r=$.extend({url:i.attr("action"),type:i.attr("method"),data:u,traditional:!0,contentType:"application/json; charset=utf-8"},n),r.type.toLowerCase()==="post"&&(r.data=JSON.stringify(u)),$.ajax(r).done((n,r,u)=>{t(i,n,r,u)}).fail((n,r)=>{t(i,null,r,n)}))};$.fn.close=function(){$(this).closest(".card").fadeOut()};$.fn.randomDate=function(n,t){const i=n.getTime(),r=t.getTime();return new Date(i+Math.random()*(r-i))};$.fn.disabled=function(){$(this).attr("disabled","disabled")};$.fn.enabled=function(){$(this).removeAttr("disabled")};$(document).ready(()=>{$.fn.datepicker.defaults.format="mm/dd/yyyy",window.modal=$("#modalBackdrop"),$("[data-toggle=popover]").popover(),$.fn.initModalLink("body")}).ajaxStart(()=>{$("form fieldset").attr("disabled","disabled")}).ajaxComplete(()=>{$("form fieldset").removeAttr("disabled")}).ajaxError((n,t)=>{window.console.log("Error",t.responseText),alert(t.responseText)});$.fn.initModalLink=function(n,t={}){$(n).find("a[data-target=modal]").on("click",n=>{n.preventDefault();var i={url:$(n.currentTarget).attr("href")};$.ajax(i).done(n=>{$(n).dialog("Your action is required",t)})})};$.fn.dialog=function(n,t){return t=t||function(){},$.when($(".modal .modal-title").text(n),$(".modal .modal-body").empty().html(this),window.modal.modal("show").off("shown.bs.modal").on("shown.bs.modal",n=>{var i=$(".modal .modal-content form").on("submit"),r=$(".modal .modal-footer #modalSubmitBtn");i.length==1?r.attr("form",i.attr("id")).removeAttr("hidden"):r.attr("hidden","hidden");t("shown.bs.modal",n,this)}).off("hidden.bs.modal").on("hidden.bs.modal",n=>{this.empty(),t("hidden.bs.modal",n,this)})).done(n=>{t("modal.on.load",n,this)}),window.modal};$.fn.bootstrapTable.formatDate=function(n){return n==null?"":new Date(n).toLocaleDateString()};$.fn.bootstrapTable.formatDateTime=function(n){return n==null?"":new Date(n).toLocaleString()};$.fn.bootstrapTable.formatCurrency=function(n){return n==null?"":"$"+n.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")};$.extend($.fn.bootstrapTable.defaults,{classes:"table table-hover",widthUnit:"%",sidePagination:"server",toolbar:"#toolbar",showPaginationSwitch:!1,silentSort:!1,search:!0,idField:"id",pageSize:10,pageList:[10,100,500,"All"],clickToSelect:!0,searchOnEnterKey:!0,showRefresh:!0,showColumns:!0,showToggle:!0,sortStable:!0,pagination:!0,maintainMetaData:!0,filterOptions:{filterAlgorithm:"or"}});$.extend($.serializeJSON.defaultOptions,{parseNumbers:!0,useIntKeysAsArrayIndex:!1,customTypes:{"string:nullable":function(n){return n||null},"number:nullable":function(n){return Number(n)||null}}});$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"is-invalid",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(n){this.lastActive=n}}});